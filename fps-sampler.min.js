"use strict";var FpsSampler=function(s){this._numSamples=s||60,this._samples=[],this._sum=0,this._lastFrame=null,this._observerFunc=null};FpsSampler.prototype._addSample=function(s){for(;this._samples.length>=this._numSamples;)this._sum-=this._samples.shift();this._samples.push(s),this._sum+=s},FpsSampler.prototype._getAverage=function(){var s=this._samples.length;return s>0?this._sum/s:0},FpsSampler.prototype.observe=function(s){this._observerFunc=s},FpsSampler.prototype.update=function(){var s=0,e=Date.now();null!==this._lastFrame&&(s=e-this._lastFrame),this._lastFrame=e,this._addSample(s);var t=60/(this._getAverage()/(1e3/60))|0,r={fps:t,now:e,elapsed:s};return this._observerFunc&&this._observerFunc.call(this,r),r},module.exports=FpsSampler;